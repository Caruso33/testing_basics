<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Testing</title>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script
      crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
    ></script>

    <!-- https://treesandrobots.com/2019/06/redux-react-without-bundlers-compilers-package-managers-build-system.html -->
    <script
      crossorigin
      src="https://unpkg.com/redux@4.0.4/dist/redux.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-redux@7.1.3/dist/react-redux.js"
    ></script>

    <script
      type="module"
      src="https://unpkg.com/prop-types@15.7.2/prop-types.min.js"
    ></script>

    <script src="https://unpkg.com/styled-components/dist/styled-components.min.js"></script>
    <script src="https://unpkg.com/polished@3.4.0/dist/polished.min.js"></script>
  </head>

  <body>
    <div id="app"></div>

    <script>
      // https://stackoverflow.com/questions/56503939/can-i-use-es-modules-in-browser-with-babel-without-bundling-my-code
      // https://glitch.com/edit/#!/cerulean-airship?path=index.html:1:0

      Babel.registerPreset("my-preset", {
        presets: [
          [Babel.availablePresets["es2015"], { modules: false }],
          [Babel.availablePresets["react"]]
        ],
        plugins: [[Babel.availablePlugins["transform-modules-umd"]]],
        moduleId: "main"
      });
    </script>

    <script
      type="text/babel"
      src="./index.jsx"
      data-plugins="transform-modules-umd"
    ></script>
    <script
      type="text/babel"
      src="./components/toggler.jsx"
      data-plugins="transform-modules-umd"
    ></script>

    <script type="text/babel" data-presets="my-preset">
      import App from "./index";
      import Toggler from "./components/toggler";

      ReactDOM.render(
        <App>{({ addOne }) => <Toggler addOne={addOne} />}</App>,
        document.getElementById("app")
      );
    </script>
  </body>
</html>
